name: GitHub Actions - Workflow Dispatch Template
run-name: Running - ${{ github.event_name }}
on:
  workflow_dispatch:
    inputs:
      tags:
        description: 'Select one a tag'
        type: choice
        options: ['production', 'staging', 'development', 'test']
        default: 'staging'
        required: true
      resposta:
        description: 'Esta foi a melhor matÃ©ria que vocÃª teve?'
        type: boolean
        default: true
      serie:
        description: 'Digite sua sÃ©rie favorita'
        type: string
        default: 'Breaking Bad'
      ambiente:
        description: 'Selecione o ambiente de deploy'
        type: choice
        options: ['AWS', 'Azure', 'GCP', 'Local']
        default: 'AWS'
      notificar:
        description: 'Enviar notificaÃ§Ãµes?'
        type: boolean
        default: false

jobs:
  on-workflow_dispatch:
    runs-on: ubuntu-latest
    steps:
      - name: ComentÃ¡rio
        run: |
          echo "ğŸš€ WORKFLOW DISPATCH INICIADO"
          echo "ğŸ“Œ Tag selecionada: ${{ github.event.inputs.tags }}"
          echo "ğŸ“ Melhor matÃ©ria: ${{ github.event.inputs.resposta }}"
          echo "ğŸ“º SÃ©rie favorita: ${{ github.event.inputs.serie }}"
          echo "â˜ï¸  Ambiente: ${{ github.event.inputs.ambiente }}"
          echo "ğŸ”” NotificaÃ§Ãµes: ${{ github.event.inputs.notificar }}"
          
      - name: Processar inputs combinados
        run: |
          echo "ğŸ”§ Processando combinaÃ§Ã£o de inputs..."
          
          if [ "${{ github.event.inputs.tags }}" == "production" ] && [ "${{ github.event.inputs.ambiente }}" == "AWS" ]; then
            echo "âš ï¸  ALERTA: Deploy em produÃ§Ã£o na AWS requer aprovaÃ§Ã£o!"
          fi
          
          if [ "${{ github.event.inputs.resposta }}" == "true" ]; then
            echo "ğŸ‰ Excelente! Esta matÃ©ria realmente Ã© especial!"
          fi
          
          if [ "${{ github.event.inputs.notificar }}" == "true" ]; then
            echo "ğŸ“§ NotificaÃ§Ãµes serÃ£o enviadas para a equipe"
          fi
          
      - name: Gerar relatÃ³rio
        run: |
          echo "ğŸ“Š RELATÃ“RIO FINAL"
          echo "=================="
          echo "Timestamp: $(date)"
          echo "Usuario: ${{ github.actor }}"
          echo "Branch: ${{ github.ref }}"
          echo "Tags: ${{ github.event.inputs.tags }}"
          echo "Ambiente: ${{ github.event.inputs.ambiente }}"
          echo "SÃ©rie: ${{ github.event.inputs.serie }}"
          echo "Status: COMPLETADO COM SUCESSO"
